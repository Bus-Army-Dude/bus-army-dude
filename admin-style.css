/* ======================== */
/*    Design Tokens        */
/* ======================== */
:root {
    /* Color System */
    --clr-primary-100: hsl(156, 100%, 95%);
    --clr-primary-200: hsl(156, 100%, 85%);
    --clr-primary-300: hsl(156, 100%, 75%);
    --clr-primary-400: hsl(156, 100%, 65%);
    --clr-primary-500: hsl(156, 100%, 50%);
    --clr-primary-600: hsl(156, 100%, 40%);
    
    --clr-accent-blue: hsl(220, 100%, 50%);
    --clr-accent-pink: hsl(340, 100%, 50%);
    
    --clr-dark-100: hsl(240, 20%, 15%);
    --clr-dark-200: hsl(240, 20%, 10%);
    --clr-dark-300: hsl(240, 20%, 5%);
    
    /* Spacing System (rem = 16px) */
    --space-3xs: clamp(0.25rem, 0.25rem, 0.25rem);
    --space-2xs: clamp(0.5rem, 0.5rem, 0.5rem);
    --space-xs: clamp(0.75rem, 0.75rem, 0.75rem);
    --space-s: clamp(1rem, 1rem, 1rem);
    --space-m: clamp(1.5rem, 1.5rem, 1.5rem);
    --space-l: clamp(2rem, 2rem, 2rem);
    --space-xl: clamp(3rem, 3rem, 3rem);
    --space-2xl: clamp(4rem, 4rem, 4rem);
    
    /* Typography */
    --font-primary: 'Exo 2', system-ui, sans-serif;
    --font-mono: 'JetBrains Mono', monospace;
    
    --fs-300: clamp(0.875rem, 0.875rem + 0vw, 0.875rem);
    --fs-400: clamp(1rem, 1rem + 0vw, 1rem);
    --fs-500: clamp(1.125rem, 1.125rem + 0vw, 1.125rem);
    --fs-600: clamp(1.25rem, 1.25rem + 0vw, 1.25rem);
    --fs-700: clamp(1.5rem, 1.5rem + 0vw, 1.5rem);
    
    /* Layout */
    --sidebar-width: 18rem;
    --header-height: 4rem;
    --max-width: 90rem;
    --content-width: min(var(--max-width), 100% - 2rem);
    
    /* Border Radius */
    --radius-s: 0.25rem;
    --radius-m: 0.5rem;
    --radius-l: 1rem;
    --radius-full: 999rem;
    
    /* Shadows */
    --shadow-sm: 0 1px 2px hsl(0 0% 0% / 0.1);
    --shadow-md: 0 4px 6px hsl(0 0% 0% / 0.1);
    --shadow-lg: 0 10px 15px hsl(0 0% 0% / 0.1);
    
    /* Transitions */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-medium: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-bounce: 500ms cubic-bezier(0.34, 1.56, 0.64, 1);
    
    /* Glass Effect */
    --glass-bg: hsl(240 20% 10% / 0.8);
    --glass-border: hsl(0 0% 100% / 0.1);
    --glass-highlight: hsl(0 0% 100% / 0.05);
}

/* ======================== */
/*    Reset & Base         */
/* ======================== */
*, *::before, *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    min-height: 100dvh;
    font-family: var(--font-primary);
    background-color: var(--clr-dark-300);
    color: var(--clr-primary-100);
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    overflow-x: hidden;
}

img, picture, video, canvas, svg {
    display: block;
    max-width: 100%;
}

input, button, textarea, select {
    font: inherit;
}

/* Remove animations for people who've turned them off */
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

.visually-hidden {
    clip: rect(0 0 0 0);
    clip-path: inset(50%);
    height: 1px;
    overflow: hidden;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

/* ======================== */
/*    Layout Components    */
/* ======================== */
.container {
    width: var(--content-width);
    margin-inline: auto;
}

.neural-grid {
    display: grid;
    gap: var(--space-m);
    grid-template-columns: repeat(
        auto-fit,
        minmax(min(100%, 20rem), 1fr)
    );
}

/* Neural Background Effect */
.neural-bg {
    position: relative;
    isolation: isolate;
}

.neural-bg::before {
    content: '';
    position: absolute;
    inset: 0;
    background: 
        radial-gradient(
            circle at 50% 0%, 
            hsl(156 100% 50% / 0.15),
            transparent 70%
        ),
        radial-gradient(
            circle at 80% 20%, 
            hsl(220 100% 50% / 0.15),
            transparent 50%
        );
    z-index: -1;
    opacity: 0.7;
    mix-blend-mode: screen;
}

/* Glassmorphism */
.glass {
    background: var(--glass-bg);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-l);
}

.glass-hover {
    transition: var(--transition-medium);
}

.glass-hover:hover {
    background: color-mix(in srgb, var(--glass-bg), transparent 20%);
    border-color: var(--clr-primary-500);
    box-shadow: 0 0 20px hsl(156 100% 50% / 0.2);
}

/* Neural Card */
.neural-card {
    position: relative;
    padding: var(--space-m);
    overflow: hidden;
}

.neural-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--clr-primary-500);
    opacity: 0;
    transition: opacity var(--transition-medium);
}

.neural-card:hover::before {
    opacity: 0.05;
}

.neural-card::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(
        90deg,
        transparent,
        var(--clr-primary-500),
        transparent
    );
    opacity: 0.5;
}

/* Neural Button */
.neural-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-xs);
    padding: var(--space-s) var(--space-m);
    background: linear-gradient(
        135deg,
        var(--clr-primary-500),
        var(--clr-accent-blue)
    );
    color: var(--clr-dark-300);
    font-weight: 600;
    border: none;
    border-radius: var(--radius-m);
    cursor: pointer;
    transition: transform var(--transition-bounce),
                box-shadow var(--transition-medium);
    position: relative;
    overflow: hidden;
}

.neural-button:hover {
    transform: translateY(-2px);
    box-shadow: 
        0 0 20px hsl(156 100% 50% / 0.3),
        0 0 40px hsl(156 100% 50% / 0.2);
}

.neural-button:active {
    transform: translateY(0);
}

.neural-button::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
        90deg,
        transparent,
        hsl(0 0% 100% / 0.2),
        transparent
    );
    transform: translateX(-100%);
    transition: transform var(--transition-medium);
}

.neural-button:hover::before {
    transform: translateX(100%);
}

.neural-button:disabled {
    opacity: 0.7;
    cursor: not-allowed;
    transform: none;
}

/* Neural Input */
.neural-input {
    width: 100%;
    padding: var(--space-s);
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-m);
    color: var(--clr-primary-100);
    transition: var(--transition-medium);
}

.neural-input:focus {
    outline: none;
    border-color: var(--clr-primary-500);
    box-shadow: 0 0 0 2px hsl(156 100% 50% / 0.2);
}

.input-wrapper {
    position: relative;
}

.input-wrapper .icon {
    position: absolute;
    top: 50%;
    left: var(--space-s);
    transform: translateY(-50%);
    color: var(--clr-primary-500);
    pointer-events: none;
}

.input-wrapper .neural-input {
    padding-left: calc(var(--space-s) * 2 + 1rem);
}

/* ======================== */
/*    Toast & Alerts       */
/* ======================== */
.toast-container {
    --toast-gap: var(--space-s);
    position: fixed;
    top: var(--space-m);
    right: var(--space-m);
    display: flex;
    flex-direction: column;
    gap: var(--toast-gap);
    z-index: 9999;
    pointer-events: none;
}

.neural-toast {
    --toast-width: min(calc(100vw - 2rem), 24rem);
    width: var(--toast-width);
    padding: var(--space-m);
    display: grid;
    grid-template-columns: auto 1fr;
    gap: var(--space-s);
    align-items: center;
    pointer-events: all;
    animation: 
        toast-slide var(--transition-bounce) forwards,
        toast-fade var(--transition-medium) forwards;
}

.neural-toast[data-type="success"] { --toast-color: var(--clr-primary-500); }
.neural-toast[data-type="error"] { --toast-color: var(--clr-accent-pink); }
.neural-toast[data-type="info"] { --toast-color: var(--clr-accent-blue); }

.toast-icon {
    color: var(--toast-color);
    font-size: var(--fs-600);
    line-height: 1;
}

.toast-content {
    color: var(--clr-primary-100);
    font-size: var(--fs-400);
}

.toast-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 2px;
    background: var(--toast-color);
    width: 100%;
}

/* ======================== */
/*    Neural Particles     */
/* ======================== */
.neural-particles {
    position: absolute;
    inset: 0;
    overflow: hidden;
    z-index: -1;
}

.neural-particle {
    --particle-size: clamp(1px, 0.15vw, 3px);
    position: absolute;
    width: var(--particle-size);
    height: var(--particle-size);
    background: var(--clr-primary-500);
    border-radius: 50%;
    filter: blur(1px);
    opacity: 0;
}

/* ======================== */
/*    Login Interface      */
/* ======================== */
.login-section {
    min-height: 100dvh;
    display: grid;
    place-items: center;
    padding: var(--space-m);
}

.login-container {
    --login-width: min(calc(100vw - 2rem), 28rem);
    width: var(--login-width);
    perspective: 1000px;
}

.login-card {
    transform-style: preserve-3d;
    transition: transform var(--transition-bounce);
}

.login-card.flipped {
    transform: rotateY(180deg);
}

.neural-avatar {
    --avatar-size: 7.5rem;
    width: var(--avatar-size);
    height: var(--avatar-size);
    margin-inline: auto;
    position: relative;
    transform: translateZ(50px);
}

.profile-hologram {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid var(--clr-primary-500);
    box-shadow: 
        0 0 20px hsl(156 100% 50% / 0.3),
        0 0 40px hsl(156 100% 50% / 0.2);
}

.hologram-rings {
    position: absolute;
    inset: -1rem;
    border: 1px solid var(--clr-primary-500);
    border-radius: 50%;
    opacity: 0.5;
}

.hologram-rings::before,
.hologram-rings::after {
    content: '';
    position: absolute;
    inset: -0.5rem;
    border: 1px solid var(--clr-primary-500);
    border-radius: 50%;
    animation: hologram-spin 10s linear infinite;
}

.hologram-rings::after {
    animation-direction: reverse;
    animation-duration: 15s;
}

/* System Status */
.system-status {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-xs);
    margin-block: var(--space-m);
}

.status-indicator {
    --indicator-size: 0.625rem;
    width: var(--indicator-size);
    height: var(--indicator-size);
    background: var(--clr-primary-500);
    border-radius: 50%;
    position: relative;
}

.status-indicator::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: 50%;
    background: var(--clr-primary-500);
    opacity: 0.5;
    animation: status-pulse 2s ease-out infinite;
}

/* ======================== */
/*    Admin Dashboard      */
/* ======================== */
.admin-panel {
    display: grid;
    grid-template-columns: var(--sidebar-width) 1fr;
    min-height: 100dvh;
    opacity: 0;
    visibility: hidden;
    position: fixed;
    inset: 0;
    transition: 
        opacity var(--transition-medium),
        visibility var(--transition-medium);
}

.admin-panel.active {
    opacity: 1;
    visibility: visible;
}

/* Sidebar */
.sidebar {
    height: 100dvh;
    padding: var(--space-m);
    position: fixed;
    width: var(--sidebar-width);
    display: flex;
    flex-direction: column;
    gap: var(--space-m);
    transition: transform var(--transition-medium);
}

.sidebar-header {
    display: flex;
    align-items: center;
    gap: var(--space-s);
}

.nav-menu {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.nav-item {
    position: relative;
}

.nav-link {
    display: flex;
    align-items: center;
    gap: var(--space-s);
    padding: var(--space-s);
    border-radius: var(--radius-m);
    color: var(--clr-primary-100);
    text-decoration: none;
    transition: var(--transition-medium);
}

.nav-link:hover {
    background: var(--glass-highlight);
}

.nav-link.active {
    background: linear-gradient(
        135deg,
        var(--clr-primary-500),
        var(--clr-accent-blue)
    );
    color: var(--clr-dark-300);
}

.nav-link .icon {
    font-size: var(--fs-500);
    flex-shrink: 0;
}

/* Main Content */
.main-content {
    margin-left: var(--sidebar-width);
    padding: var(--space-m);
    min-height: 100dvh;
}

.content-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-l);
}

.content-title {
    font-size: var(--fs-700);
    font-weight: 600;
    background: linear-gradient(
        135deg,
        var(--clr-primary-500),
        var(--clr-accent-blue)
    );
    -webkit-background-clip: text;
    color: transparent;
}

/* Dashboard Stats */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 15rem), 1fr));
    gap: var(--space-m);
}

.stat-card {
    display: grid;
    gap: var(--space-xs);
}

.stat-value {
    font-size: var(--fs-700);
    font-weight: 700;
    color: var(--clr-primary-500);
}

.stat-label {
    font-size: var(--fs-300);
    color: var(--clr-primary-200);
}

/* Neural Table */
.neural-table {
    width: 100%;
    border-collapse: collapse;
}

.neural-table th,
.neural-table td {
    padding: var(--space-s);
    text-align: left;
    border-bottom: 1px solid var(--glass-border);
}

.neural-table th {
    font-weight: 600;
    color: var(--clr-primary-500);
    text-transform: uppercase;
    font-size: var(--fs-300);
    letter-spacing: 0.05em;
}

.neural-table tbody tr {
    transition: var(--transition-medium);
}

.neural-table tbody tr:hover {
    background: var(--glass-highlight);
}

/* Neural Switch */
.neural-switch {
    --switch-width: 3.5rem;
    --switch-height: 2rem;
    --switch-padding: 0.25rem;
    
    position: relative;
    display: inline-block;
    width: var(--switch-width);
    height: var(--switch-height);
}

.neural-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.switch-slider {
    position: absolute;
    inset: 0;
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-full);
    transition: var(--transition-medium);
}

.switch-slider::before {
    content: '';
    position: absolute;
    left: var(--switch-padding);
    top: 50%;
    transform: translateY(-50%);
    width: calc(var(--switch-height) - var(--switch-padding) * 2);
    aspect-ratio: 1;
    background: var(--clr-primary-200);
    border-radius: 50%;
    transition: var(--transition-medium);
}

.neural-switch input:checked + .switch-slider {
    background: var(--clr-primary-600);
}

.neural-switch input:checked + .switch-slider::before {
    transform: translate(
        calc(var(--switch-width) - var(--switch-height) + var(--switch-padding)),
        -50%
    );
    background: var(--clr-primary-100);
}

/* ======================== */
/*    Animations          */
/* ======================== */
@keyframes toast-slide {
    from { transform: translateX(calc(var(--toast-width) + var(--space-m))); }
    to { transform: translateX(0); }
}

@keyframes toast-fade {
    0% { opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { opacity: 0; }
}

@keyframes status-pulse {
    0% { 
        transform: scale(1);
        opacity: 0.5;
    }
    100% { 
        transform: scale(2);
        opacity: 0;
    }
}

@keyframes hologram-spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

@keyframes neural-particle {
    0% {
        transform: 
            translateY(100vh) 
            translateX(calc(var(--random-x, 0) * 1px));
        opacity: 0;
    }
    50% {
        opacity: var(--particle-opacity, 0.3);
    }
    100% {
        transform: 
            translateY(-100px) 
            translateX(calc(var(--random-x, 0) * 1px));
        opacity: 0;
    }
}

@keyframes neural-pulse {
    0% {
        box-shadow: 0 0 0 0 hsl(156 100% 50% / 0.4);
    }
    70% {
        box-shadow: 0 0 0 10px hsl(156 100% 50% / 0);
    }
    100% {
        box-shadow: 0 0 0 0 hsl(156 100% 50% / 0);
    }
}

/* ======================== */
/*    Responsive Design    */
/* ======================== */
@media (max-width: 64rem) { /* 1024px */
    :root {
        --sidebar-width: 16rem;
    }

    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .neural-table {
        display: block;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
}

@media (max-width: 48rem) { /* 768px */
    :root {
        --sidebar-width: 100%;
    }

    .admin-panel {
        grid-template-columns: 1fr;
    }

    .sidebar {
        transform: translateX(-100%);
        z-index: 1000;
    }

    .sidebar.active {
        transform: translateX(0);
    }

    .main-content {
        margin-left: 0;
    }

    .content-header {
        flex-direction: column;
        gap: var(--space-s);
        align-items: flex-start;
    }

    .stats-grid {
        grid-template-columns: 1fr;
    }

    .neural-card {
        padding: var(--space-s);
    }
}

@media (max-width: 36rem) { /* 576px */
    :root {
        --space-m: 1rem;
        --space-l: 1.5rem;
    }

    .login-container {
        padding: var(--space-s);
    }

    .neural-toast {
        --toast-width: calc(100vw - 2rem);
    }
}

/* Dark Mode Support */
@media (prefers-color-scheme: dark) {
    :root {
        color-scheme: dark;
    }
}

/* High Contrast Mode */
@media (forced-colors: active) {
    .neural-button,
    .neural-input,
    .neural-card {
        border: 2px solid ButtonText;
    }
}

/* Print Styles */
@media print {
    .sidebar,
    .neural-particles,
    .neural-toast,
    .neural-button {
        display: none;
    }

    .main-content {
        margin: 0;
        padding: 0;
    }

    body {
        background: none;
        color: black;
    }

    .neural-card {
        break-inside: avoid;
        border: 1px solid #ccc;
    }
}

/* ======================== */
/*    Utility Classes      */
/* ======================== */
.neural-fade-in {
    animation: fade-in var(--transition-medium) forwards;
}

.neural-slide-up {
    animation: slide-up var(--transition-bounce) forwards;
}

.neural-pulse {
    animation: neural-pulse 2s infinite;
}

.flow > * + * {
    margin-top: var(--flow-space, var(--space-m));
}

.center {
    display: grid;
    place-items: center;
}

.flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}
